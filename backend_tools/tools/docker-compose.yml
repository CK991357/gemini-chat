# docker-compose.yml (æœ€ç»ˆçš„ã€ç»å¯¹è·¯å¾„ç»‘å®šç‰ˆæœ¬ + æ–‡ä»¶æŒ‚è½½çƒ­æ›´æ–°)

services:
  python-sandbox:
    build: .
    container_name: python-sandbox-service
    ports:
      - "127.0.0.1:8828:8828"
    volumes:
      # æŒ‚è½½ Docker socketï¼Œä¿æŒä¸å˜
      - /var/run/docker.sock:/var/run/docker.sock
      # ğŸ¯ æ ¸å¿ƒä¿®å¤ï¼šå°†ä¸»æœºçš„ç»å¯¹è·¯å¾„ /srv/sandbox_workspaces æŒ‚è½½åˆ°å®¹å™¨å†…çš„ç›¸åŒè·¯å¾„
      - /srv/sandbox_workspaces:/srv/sandbox_workspaces
      # ğŸš€ æ–°å¢ï¼šå°†å®¿ä¸»æœºå½“å‰ç›®å½•ä¸‹çš„ code_interpreter.py æŒ‚è½½åˆ°å®¹å™¨å†…ï¼Œè¦†ç›–é•œåƒæ–‡ä»¶
      - ./code_interpreter.py:/app/code_interpreter.py
    restart: unless-stopped
    environment:
      - PYTHONUNBUFFERED=1
    user: "root"